{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImg(query) {\n    const searchParams = new URLSearchParams({\n        key: '47484582-92e080108706ddb17b6ec6a5b',\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n            return response.json();\n    });\n}","export function createGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images\n        .map(\n            image =>\n                `<li class=\"li-item\">\n                    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                    <img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" width=\"360\">\n                    </a>\n                <ul class=\"image-descr\">\n                    <li class>\n                        <h2 class=\"title\">Likes</h2>\n                        <p>${image.likes}</p>\n                    </li>\n                    <li>\n                        <h2 class=\"title\">Views</h2>\n                        <p>${image.views}</p>\n                    </li>\n                    <li>\n                        <h2 class=\"title\">Comments</h2>\n                        <p>${image.comments}</p>\n                    </li>\n                    <li>\n                        <h2 class=\"title\">Downloads</h2>\n                        <p>${image.downloads}</p>\n                    </li>\n                </ul>\n                </li>`\n        )\n        .join('');\n    gallery.innerHTML = markup;\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector('.gallery');\n    gallery.innerHTML = '';\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImg } from './js/pixabay-api';\nimport { createGallery, clearGallery } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nloader.hidden = true;\n\nform.addEventListener('submit', searchImg);\n\nfunction searchImg(event) {\n    event.preventDefault();\n    const query = event.target.elements.search.value.trim();\n    if (!query) {\n        iziToast.warning({\n            message: 'Warning! The form is empty, please fill searching form.',\n            position: 'topRight',\n        });\n    form.reset();\n    return;\n    }\n\n    clearGallery();\n    form.reset();\n\n    loader.hidden = false;\n\n    fetchImg(query)\n    .then(data => {\n        if (data.hits.length === 0) {\n        iziToast.error({\n            message: 'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n            backgroundColor: '#ef4040',\n            messageColor: '#fafafb',\n            messageSize: '16px',\n            titleColor: '#ffffff',\n            maxWidth: '322px',\n        });\n            return;\n        }\n\n        createGallery(data.hits);\n        let lightbox = new SimpleLightbox('.gallery-link', {\n            captionsData: 'alt',\n            captionDelay: 250,\n        });\n            lightbox.refresh();\n    })\n    .catch(error => {\n        iziToast.error({\n            message: 'Error!',\n            position: 'topRight',\n        });\n            console.error(error);\n    })\n    .finally(() => {\n            loader.hidden = true;\n    });\n}"],"names":["fetchImg","query","url","response","createGallery","images","gallery","markup","image","clearGallery","form","loader","searchImg","event","iziToast","data","SimpleLightbox","error"],"mappings":"6vBAAO,SAASA,EAASC,EAAO,CAQ5B,MAAMC,EAAM,4BAPS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,CACmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAE/B,OAAOA,EAAS,MAC5B,CAAK,CACL,CChBO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EACV,IACGG,GACI;AAAA,oDACoCA,EAAM,aAAa;AAAA,oDACnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6BAK7DA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,6BAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,sBAInC,EACA,KAAK,EAAE,EACZF,EAAQ,UAAYC,CACxB,CAEO,SAASE,GAAe,CAC3B,MAAMH,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CC7BA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,OAAS,GAEhBD,EAAK,iBAAiB,SAAUE,CAAS,EAEzC,SAASA,EAAUC,EAAO,CACtBA,EAAM,eAAc,EACpB,MAAMZ,EAAQY,EAAM,OAAO,SAAS,OAAO,MAAM,OACjD,GAAI,CAACZ,EAAO,CACRa,EAAS,QAAQ,CACb,QAAS,0DACT,SAAU,UACtB,CAAS,EACLJ,EAAK,MAAK,EACV,MACC,CAEDD,IACAC,EAAK,MAAK,EAEVC,EAAO,OAAS,GAEhBX,EAASC,CAAK,EACb,KAAKc,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC5BD,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,gBAAiB,UACjB,aAAc,UACd,YAAa,OACb,WAAY,UACZ,SAAU,OACtB,CAAS,EACG,MACH,CAEDV,EAAcW,EAAK,IAAI,EACR,IAAIC,EAAe,gBAAiB,CAC/C,aAAc,MACd,aAAc,GAC1B,CAAS,EACY,QAAO,CAC5B,CAAK,EACA,MAAMC,GAAS,CACZH,EAAS,MAAM,CACX,QAAS,SACT,SAAU,UACtB,CAAS,EACG,QAAQ,MAAMG,CAAK,CAC/B,CAAK,EACA,QAAQ,IAAM,CACPN,EAAO,OAAS,EAC5B,CAAK,CACL"}